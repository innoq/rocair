{% extends "layout.html" %}

{# optional attribute; only rendered if value is truthy #}
{% macro optAttr(name, value) %}{%
	if value %}{{ name }}="{{ value }}"{% endif
%}{% endmacro %}

{% block body %}
<p>
	Thank you for flying <i class="organization">ROCAir</i>. Web check-in for
	flight <i>{{ flightID }}</i> is now available - please select your seat
	below.
</p>

<p class="vis-alt">
	Rows are numbered from nose to tail. A and F are window, C and D aisle
	seats. A-C are on the left, D-F on the right.
</p>

<p class="hint">
	Note that most browsers allow navigating the selection via the tab and
	arrow keys.
</p>

<form action="{{ checkInURI }}" method="post" class="cabin-old">
	<div class="plane">
		<div class="plane-head">
			<div class="plane-windows">
				<div class="plane-window is-left"></div>
				<div class="plane-window is-right"></div>
			</div>
		</div>
		<div class="plane-body">
			<div class="plane-wings"></div>
			<div class="plane-cabin">
				<ul class="rows">
					{% for row in seats %}
					<li>
						<ul class="seats">
							{% for seat in row %}
							<li {{ optAttr("class", seat.class()) }} {{
									optAttr("title", seat.desc) }}>
								<label>
									<input type="radio" name="seat" value="{{ seat.id }}" {{
											optAttr("disabled", seat.unavailable()) }} {{
											optAttr("checked", seat.selected) }}>
									{{ seat.label() }}
								</label>
							</li>
							{% endfor %}
						</ul>
					</li>
					{% endfor %}
				</ul>
			</div>
		</div>
		<div class="plane-tail"></div>

	</div>
	<input type="submit" value="confirm selection">
</form>
{% endblock %}
